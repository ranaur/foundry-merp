<h2>{{localize 'MERP1E.Spells.RealmPowerPoints'}}</h2>
<div class="flexrow">
    <label class="resource-label">{{localize "MERP1E.Profession.Realm"}}</label>
    <div class="flex4">
      {{#if (eq actor.profession.data.data.realm "any")}}
      <select class="userentry" name="data.realm">
        {{selectOptions rules.magic.realms selected=data.data.realm localize=true nameAttr="id" labelAttr="label"}}
      </select>
      {{else}}
      <input type="text" value="{{actor.realm}}" data-dtype="String" readonly tabindex=-1/>
      {{/if}}
    </div>
</div>

<div class="flexrow">
  <div class="flex4 flexrow">
    <label class="resource-label">{{localize "MERP1E.Spells.PowerPoints"}}</label>
    <div class="flex2">
      {{actor.powerPointsPerLevel}} (PP per level)
      X
      {{actor.level}} (Level)
      {{#if (gt actor.powerPointsMultiplier 1)}}
      X
      {{actor.powerPointsMultiplier}} ((PP Multiplier))
      {{/if}}
      = {{actor.powerPointsMaximum}}
    </div>
  </div>
  <div class="flex1 flexrow">
    <label class="resource-label">{{localize "MERP1E.Spells.CurrentPowerPoints"}}</label>
    <input class="userentry" type="text" name="data.pp.value" value="{{actor.powerPointsCurrent}}" data-dtype="Number" type="number"/>
    <a class="spell-control" data-action="reset-pp" title="{{localize 'MERP1E.Spells.ResetPP'}}"><i class="fas fa-bolt"></i></a>
  </div>
</div>

<h2>{{localize 'MERP1E.Spells.Spelllists'}}</h2>
<ol class="items-list">
  <li class="item flexrow item-header">
    <div class="item-image"></div>
    <div class="item-name">"{{localize 'MERP1E.Spells.Name'}}</div>
    <div class="item-controls">
      <a class="item-control item-create" title="{{localize 'MERP1E.Spells.CreateSpelllist'}}" data-type="item"><i class="fas fa-plus"></i> Add item</a>
    </div>
  </li>
  {{#each actor.spelllists as |spelllist|}}
  <li class="item flexrow" data-item-id="{{spelllist.id}}">
      <div class="item-image"><img src="{{spelllist.img}}" title="{{spelllist.name}}" width="24" height="24"/></div>
      <h4 class="item-name flex4">{{spelllist.name}}</h4>
      <input class="userentry" name="Item.{{spelllist.id}}.chanceOfLearning" value="{{spelllist.data.data.chanceOfLearning}}" data-dtype="Number" type="number"/>
      <div class="item-controls">
        <a class="item-control item-edit" title="{{localize 'MERP1E.Spells.EditSpelllist'}}"><i class="fas fa-edit"></i></a>
        <a class="item-control item-delete" title="{{localize 'MERP1E.Spells.DeleteSpelllist'}}"><i class="fas fa-trash"></i></a>
      </div>
  </li>
  {{#if (eq spelllist.data.data.chanceOfLearning 100)}}
  <ol>
  {{#each spelllist.data.data.spells as | spell |}}
    <li class="item flexrow" data-item-id="{{item.id}}">
        <div class="item-image" stype="width: 48px"></div>
        <div class="item-image"><img src="{{spell.img}}" title="{{spell.name}}" width="24" height="24"/></div>
        <h4 class="item-name flex4">{{spell.level}} - {{spell.name}}</h4>
        <div class="item-controls">
          ROLL
        </div>
    </li>
  {{/each}}
  </ol>
  {{/if}}
  {{/each}}
</ol>
