<form class="{{cssClass}}" autocomplete="off">
    <header class="sheet-header">
        <img class="profile-img" src="{{item.img}}" data-edit="img" title="{{item.name}}"/>
        <div class="header-fields">
            <h1 class="charname"><input name="name" type="text" value="{{item.name}}" placeholder="Name"/></h1>
            <div class="grid grid-2col">
                <div class="resource">
                    <label class="resource-label">{{localize "MERP1E.ProfessionSheet.PrimeStat"}}</label>
                    <select name="data.primeStat">
                        {{#unless data.data.primeStat}}<option></option>{{/unless}}
                        {{selectOptions rules.stats selected=data.data.primeStat localize=true nameAttr="value" labelAttr="label"}}
                    </select>
                </div>
                <div class="resource">
                    <label class="resource-label">{{localize "MERP1E.ProfessionSheet.Realm"}}</label>
                    <select name="data.realm">
                        <option value="any">{{localize "MERP1E.Realm.Any"}}</option>
                        {{selectOptions rules.magic.realms selected=data.data.realm localize=true nameAttr="name" labelAttr="label"}}
                    </select>
                </div>
                <div class="resource">
                    <label class="resource-label">{{localize "MERP1E.ProfessionSheet.MaxSpellLevel"}}</label>
                    <select name="data.spellsAllowed">
                        {{#unless data.data.spellsAllowed}}<option></option>{{/unless}}
                        {{selectOptions rules.magic.professionalRestrictions selected=data.data.spellsAllowed localize=true nameAttr="name" labelAttr="label"}}
                    </select>
                </div>
            </div>
        </div>
    </header>

    {{!-- Sheet Tab Navigation --}}
    <nav class="sheet-tabs tabs" data-group="primary">
        <a class="item" data-tab="professionalskillbonuses">{{localize "MERP1E.ProfessionSheet.ProfessionalSkillBonuses"}}</a>
        <a class="item" data-tab="devpoints">{{localize "MERP1E.ProfessionSheet.DevPoints"}}</a>
        <a class="item" data-tab="description">{{localize "MERP1E.ProfessionSheet.Description"}}</a>
    </nav>

    {{!-- Sheet Body --}}
    <section class="sheet-body">
        {{!-- Skill Bonuses Tab --}}
        <div class="tab skillbonuses" data-group="primary" data-tab="professionalskillbonuses">
            <div class="skill-groups">
                {{#each sheetOrder as | group |}}
                <div class="skill-group">
                  <div class="skill-group-header" style="font-weight:bolder">{{localize (concat "MERP1E.SkillGroup." group.name)}} (
                    <a class="skill-group-value" group="{{group.name}}">0</a>
                    <a class="skill-group-value" group="{{group.name}}">1</a>
                    <a class="skill-group-value" group="{{group.name}}">2</a>
                    <a class="skill-group-value" group="{{group.name}}">3</a>
                    <a class="skill-group-value" group="{{group.name}}">4</a>
                    <a class="skill-group-value" group="{{group.name}}">5</a>)
                  </div>
                  {{#each group.skills as | skill |}}
                    <div class="flexrow">
                        <label>{{localize skill.name}}</label>
                        <input type="number" name="data.professionSkillBonuses.{{skill.data.data.reference}}" value="{{lookup ../../data.data.professionSkillBonuses skill.data.data.reference}}" data-dtype="Number"/>
                    </div>
                  {{/each}}
                </div>
                {{/each}}
              </div>
        </div>
        {{!-- Description Tab --}}
        <div class="tab" data-group="primary" data-tab="devpoints">
            <div class="devpoints-groups">
                {{#each sheetOrder as | group |}}
                <div class="flexrow">
                    <div class="">{{ localize (concat "MERP1E.SkillGroup." group.name)}}</div>
                    <input type="number" name="data.developmentPoints.{{group.name}}" value="{{lookup ../data.data.developmentPoints group.name}}" data-dtype="Number"/>
                </div>
                {{/each}}
                <div class="flexrow">
                    <div class="">{{localize (concat "MERP1E.Skill.BodyDevel")}}</div>
                    <input type="number" name="data.developmentPoints.BodyDevel" value="{{data.data.developmentPoints.BodyDevel}}" data-dtype="Number"/>
                </div>
                <div class="flexrow">
                    <div class="">{{localize (concat "MERP1E.ProfessionSheet.Languages")}}</div>
                    <input type="number" name="data.developmentPoints.Languages" value="{{data.data.developmentPoints.Languages}}" data-dtype="Number"/>
                </div>
                <div class="flexrow">
                    <div class="">{{localize (concat "MERP1E.ProfessionSheet.SpellLists")}}</div>
                    <input type="number" name="data.developmentPoints.SpellLists" value="{{data.data.developmentPoints.SpellLists}}" data-dtype="Number"/>
                </div>
              </div>
        </div>
        {{!-- Description Tab --}}
        <div class="tab" data-group="primary" data-tab="description">
            {{editor content=data.description target="data.description" button=true owner=owner editable=editable}}
        </div>
    </section>
</form>
