<form class="{{cssClass}}" autocomplete="off">
    <header class="sheet-header">
        <img class="profile-img" src="{{item.img}}" data-edit="img" title="{{item.name}}"/>
        <div class="header-fields">
            <h1 class="charname"><input name="name" type="text" value="{{item.name}}" placeholder="Name"/></h1>
            <div class="grid grid-2col">
                <div class="resource">
                    <label class="resource-label">{{localize "MERP1E.ProfessionSheet.PrimeStat"}}</label>
                    <select name="data.primeStat">
                        {{#each rules.stats as |stat|}}
                            <option value="{{stat}}" {{#if (isEqual ../data.primeStat stat)}}selected{{/if}}>{{localize (concat "MERP1E.Stats." stat ".Name")}}</option>
                        {{/each}}
                    </select>
                </div>
                <div class="resource">
                    <label class="resource-label">{{localize "MERP1E.ProfessionSheet.Realm"}}</label>
                    <select name="data.realm">
                        {{#each rules.spell.realms as |realm|}}
                        <option value="{{realm}}" {{#if (isEqual ../data.realm realm)}}selected{{/if}}>{{localize (concat "MERP1E.Realm." realm)}}</option>
                        {{/each}}
                        <option value="any" {{#if (isEqual data.realm "any")}}selected{{/if}}>{{localize (concat "MERP1E.Realm.Any")}}</option>
                    </select>
                </div>
                <div class="resource">
                    <label class="resource-label">{{localize "MERP1E.ProfessionSheet.MaxSpellLevel"}}</label>
                    <select name="data.spellsAllowed">
                        <option value="profession and open" {{#if (isEqual data.spellsAllowed "profession and open")}}selected{{/if}}>{{localize "MERP1E.SpellsAllowed.ProfessionOpen"}}</option>
                        <option value="profession and open up to 5th level" {{#if (isEqual data.spellsAllowed "profession and open up to 5th level")}}selected{{/if}}>{{localize "MERP1E.SpellsAllowed.Profession5th"}}</option>
                        <option value="open up to 5th level" {{#if (isEqual data.spellsAllowed "open up to 5th level")}}selected{{/if}}>{{localize "MERP1E.SpellsAllowed.Open5th"}}</option>
                        <option value="open up to 3rd level" {{#if (isEqual data.spellsAllowed "open up to 3rd level")}}selected{{/if}}>{{localize "MERP1E.SpellsAllowed.Open3rd"}}</option>
                    </select>
                </div>
            </div>
        </div>
    </header>

    {{!-- Sheet Tab Navigation --}}
    <nav class="sheet-tabs tabs" data-group="primary">
        <a class="item" data-tab="professionalskillbonuses">{{localize "MERP1E.ProfessionSheet.ProfessionalSkillBonuses"}}</a>
        <a class="item" data-tab="devpoints">{{localize "MERP1E.ProfessionSheet.DevPoints"}}</a>
        <a class="item" data-tab="description">{{localize "MERP1E.ProfessionSheet.Description"}}</a>
    </nav>

    {{!-- Sheet Body --}}
    <section class="sheet-body">
        {{!-- Skill Bonuses Tab --}}
        <div class="tab skillbonuses" data-group="primary" data-tab="professionalskillbonuses">
            <div class="skill-groups">
                {{#each rules.skill.sheetOrder as | group |}}
                <div class="skill-group">
                  <div class="skill-group-header">{{localize (concat "MERP1E.SkillGroup." group.id)}} ()
                    <a class="skill-group-value" group="{{group.id}}">0</a>
                    <a class="skill-group-value" group="{{group.id}}">1</a>
                    <a class="skill-group-value" group="{{group.id}}">2</a>
                    <a class="skill-group-value" group="{{group.id}}">3</a>
                    <a class="skill-group-value" group="{{group.id}}">4</a>
                    <a class="skill-group-value" group="{{group.id}}">5</a>)
                  </div>
                  {{#each group.skills as | skill |}}
                    <div class="flexrow">
                        <label for="data.professionSkillBonuses.{{skill.data.reference}}" class="resource-label">{{localize skill.name}}</label>
                        <input type="number" class="skill-of-group-{{group.id}}" name="data.professionSkillBonuses.{{skill.data.reference}}" value="{{lookup ../../data.professionSkillBonuses skill.data.reference}}" data-dtype="Number"/>
                    </div>
                  {{/each}}
                </div>
                {{/each}}
              </div>
        </div>
        <div class="tab" data-group="primary" data-tab="devpoints">
            <div class="devpoints-groups">
                {{#each rules.skill.sheetOrder as | group |}}
                <div class="flexrow">
                    <div class="">{{localize (concat "MERP1E.SkillGroup." group.id)}}</div>
                    <input type="number" class="profession-devpoints-{{group.id}}" name="data.developmentPoints.{{group.id}}" value="{{lookup ../data.developmentPoints group.id}}" data-dtype="Number"/>
                </div>
                {{/each}}
                <div class="flexrow">
                    <div class="">{{localize (concat "MERP1E.Skill.BodyDevel")}}</div>
                    <input type="number" class="profession-devpoints-BodyDevel" name="data.developmentPoints.BodyDevel" value="{{data.developmentPoints.BodyDevel}}" data-dtype="Number"/>
                </div>
                <div class="flexrow">
                    <div class="">{{localize (concat "MERP1E.ProfessionSheet.Languages")}}</div>
                    <input type="number" class="profession-devpoints-Languages" name="data.developmentPoints.Languages" value="{{data.developmentPoints.Languages}}" data-dtype="Number"/>
                </div>
                <div class="flexrow">
                    <div class="">{{localize (concat "MERP1E.ProfessionSheet.SpellLists")}}</div>
                    <input type="number" class="profession-devpoints-SpellLists" name="data.developmentPoints.SpellLists" value="{{data.developmentPoints.SpellLists}}" data-dtype="Number"/>
                </div>
              </div>
        </div>
        {{!-- Description Tab --}}
        <div class="tab" data-group="primary" data-tab="description">
            {{editor content=data.description target="data.description" button=true owner=owner editable=editable}}
        </div>
    </section>
</form>
